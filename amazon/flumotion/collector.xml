<planet name="planet">
  
  <atmosphere>
    <component name="porter-http"
               type="porter"
               label="porter-http"
               worker="localhost"
               project="flumotion"
               version="0.8.1">
      <property name="username">pMEUjzeXaBJJ</property>
      <property name="socket-path">flu-DUwiBh.socket</property>
      <property name="password">egMLHlXjuUgt</property>
      <property name="port">8800</property>
    </component>
    
  </atmosphere>
  
  <flow name="default">
    <!-- 
    <component name="producer-firewire"
               type="pipeline-producer"
               label="producer-firewire"
               worker="localhost"
               project="flumotion"
               version="0.8.1">
      <property name="pipeline">hdv1394src</property>
      <clock-master>true</clock-master>
    </component> 

    <component name="producer-decoder"
               type="av-generic-decoder"
               label="producer-decoder"
               worker="localhost"
               project="flumotion"
               version="0.8.1">
      <clock-master>false</clock-master>
      <eater name="default">
        <feed alias="default">producer-firewire:default</feed>
      </eater>
    </component> -->

    <component name="producer-hd-firewire"
               type="firewire-producer"
               label="producer-audio-video"
               worker="localhost"
               project="flumotion"
               version="0.8.1">
      <property name="deinterlace-mode">auto</property>
      <property name="is-square">True</property>
      <property name="deinterlace-method">ffmpeg</property>
      <property name="framerate">25/1</property>
      <property name="height">0</property>
      <property name="width">1920</property>
      <property name="decoder">ffdec_dvvideo</property>
      <property name="guid">576537722488116858</property>
      <clock-master>true</clock-master>
    </component>
    <component name="scaler-video"
               type="pipeline-converter"
               label="scaler-video"
               worker="localhost"
               project="flumotion"
               version="0.8.1">
      <eater name="default">
        <feed alias="default">producer-hd-firewire:video</feed>
      </eater>
      <property name="pipeline">videoscale ! video/x-raw-yuv, width=1280, height=720</property>
      <clock-master>false</clock-master>
    </component>
		   

    <component name="encoder-video"
               type="theora-encoder"
               label="encoder-video"
               worker="localhost"
               project="flumotion"
               version="0.8.1">
      <eater name="default">
        <feed alias="default">scaler-video:video</feed>
      </eater>
      <property name="keyframe-maxdistance">25</property>
      <property name="sharpness">0</property>
      <property name="bitrate">22000000</property>
      <property name="noise-sensitivity">1</property>
      <clock-master>false</clock-master>
    </component>
    
    <component name="encoder-audio"
               type="vorbis-encoder"
               label="encoder-audio"
               worker="localhost"
               project="flumotion"
               version="0.8.1">
      <eater name="default">
        <feed alias="default">producer-decoder:audio</feed>
      </eater>
      <property name="bitrate">192000</property>
      <clock-master>false</clock-master>
    </component>
    
    <component name="muxer-audio-video"
               type="ogg-muxer"
               label="muxer-audio-video"
               worker="localhost"
               project="flumotion"
               version="0.8.1">
      <eater name="default">
        <feed alias="default">encoder-audio:default</feed>
        <feed alias="default-bis">encoder-video:default</feed>
      </eater>
      <clock-master>false</clock-master>
    </component>
   
    <component name="http-audio-video"
               type="http-streamer"
               label="http-audio-video"
               worker="localhost"
               project="flumotion"
               version="0.8.1">
      <eater name="default">
        <feed alias="default">muxer-audio-video:default</feed>
      </eater>
      <property name="porter-username">pMEUjzeXaBJJ</property>
      <property name="mount-point">/output</property>
      <property name="burst-on-connect">False</property>
      <property name="port">8800</property>
      <property name="type">slave</property>
      <property name="porter-socket-path">flu-DUwiBh.socket</property>
      <property name="porter-password">egMLHlXjuUgt</property>
      <clock-master>false</clock-master>
      <plugs>
      </plugs>
    </component>

    <component name="consumer-sender"
               type="pipeline-consumer"
               label="consumer-sender"
               worker="localhost"
               project="flumotion"
               version="0.8.1">
      <eater name="default">
        <feed alias="default">muxer-audio-video:default</feed>
      </eater>
      <property name="pipeline">gdppay | tcpclientsink host=ec2-50-19-36-221.compute-1.amazonaws.com</property>
      <clock-master>false</clock-master>
    </component>
    
  </flow>
  
</planet>
